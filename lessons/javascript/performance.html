<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JavaScript Performance | CodeMaster</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../../style.css">
</head>
<body class="bg-yellow-50 font-sans p-6 overflow-auto min-h-screen">

  <h2 class="text-2xl font-bold mb-4 text-yellow-500">JavaScript Performance</h2>

  <p class="mb-6 text-gray-700">
    Writing efficient JavaScript improves speed, responsiveness, and user experience. Here are key techniques to optimize your code.
  </p>
<h3 class="text-lg font-semibold text-yellow-500 mb-2">üé• Video Tutorial</h3>
<div class="mb-6">
  <div class="relative pb-[40.25%] h-0 overflow-hidden rounded-lg shadow-md">
    <iframe class="absolute top-0 left-0 w-full h-full" src="https://www.youtube.com/embed/_pWA4rbzvIg" title="JavaScript Performance Explained | Beyond Fireship" frameborder="0" allowfullscreen></iframe>
  </div>
  <p class="text-sm text-gray-600 mt-2">
    Video by <strong>Beyond Fireship</strong> ‚Äì  
    <a class="text-yellow-600 underline" href="https://www.youtube.com/watch?v=_pWA4rbzvIg" target="_blank">Watch on YouTube</a><br>
    <strong>JavaScript Performance Explained</strong> explores key strategies for writing faster, more efficient code ‚Äî including memory management, loop optimization, and DOM handling.
  </p>
</div>
<h3 class="text-lg font-semibold text-yellow-500 mb-2">üìò What You‚Äôll Learn</h3>
<ul class="list-disc list-inside mb-4 text-gray-700">
  <li>How to reduce unnecessary DOM manipulation for better runtime performance</li>
  <li>Why minimizing reflows and repaints improves UI responsiveness</li>
  <li>How to optimize loops and avoid redundant calculations</li>
  <li>How memory leaks occur and how to prevent them</li>
  <li>How to use performance profiling tools in DevTools</li>
</ul>

  <div class="mb-6 text-gray-700">
    <ul class="list-disc pl-6 space-y-1">
      <li>‚úÖ Cache values outside loops</li>
      <li>‚úÖ Minimize DOM access and DOM size</li>
      <li>‚úÖ Avoid unnecessary variables</li>
      <li>‚úÖ Load scripts after the page has rendered</li>
      <li>‚úÖ Avoid <code>with</code> and use strict mode</li>
    </ul>
  </div>

  <!-- Preview -->
  <h3 class="text-lg font-semibold text-yellow-500 mb-2">‚ö° Performance Comparison</h3>
  <div class="bg-white border border-yellow-300 rounded-lg p-4 shadow-sm space-y-4">
    <div class="flex justify-end">
      <button id="runBtn" class="bg-yellow-400 hover:bg-yellow-500 text-white font-semibold px-4 py-2 rounded">
        Run Loop Optimization
      </button>
    </div>

    <pre class="bg-gray-900 text-yellow-200 p-3 rounded text-sm overflow-x-auto">
Bad:
for (let i = 0; i < arr.length; i++) { ... }

Better:
let l = arr.length;
for (let i = 0; i < l; i++) { ... }
    </pre>

    <div id="output" class="bg-gray-100 border border-yellow-300 rounded p-3 text-sm text-gray-700">
      Output will appear here.
    </div>
  </div>

  <!-- Syntax Reference -->
  <h3 class="text-lg font-semibold text-yellow-500 mt-6 mb-2">üìö Optimization Techniques</h3>
  <div class="bg-white border border-yellow-300 rounded-lg p-4 shadow-sm space-y-4 text-sm text-gray-700">
    <p><strong>Loop Optimization:</strong></p>
    <pre class="bg-gray-900 text-yellow-200 p-3 rounded overflow-x-auto">
const l = arr.length;
for (let i = 0; i < l; i++) {
  // use arr[i]
}
    </pre>

    <p><strong>DOM Access Optimization:</strong></p>
    <pre class="bg-gray-900 text-yellow-200 p-3 rounded overflow-x-auto">
const demo = document.getElementById("demo");
demo.innerHTML = firstName + " " + lastName;
    </pre>

    <p><strong>Script Loading:</strong></p>
    <pre class="bg-gray-900 text-yellow-200 p-3 rounded overflow-x-auto">
&lt;script defer src="myscript.js"&gt;&lt;/script&gt;

window.onload = function() {
  const script = document.createElement("script");
  script.src = "myscript.js";
  document.body.appendChild(script);
};
    </pre>

    <p><strong>Avoid:</strong></p>
    <pre class="bg-gray-900 text-yellow-200 p-3 rounded overflow-x-auto">
// ‚ùå Avoid using 'with'
with (obj) {
  console.log(name);
}
    </pre>
  </div>
  <h3 class="text-lg font-semibold text-yellow-500 mb-2">üß† Lesson Summary</h3>
<p class="text-gray-700 mb-4 text-sm">
  JavaScript performance hinges on how efficiently your code interacts with memory, the DOM, and the browser‚Äôs rendering engine. Avoiding excessive DOM updates, caching values inside loops, and cleaning up unused references can dramatically improve speed. Tools like Chrome‚Äôs Performance tab help visualize bottlenecks and optimize execution. Writing performant code ensures smoother user experiences and scalable applications.
</p>
<h3 class="text-lg font-semibold text-yellow-500 mb-2">üß™ Try It Yourself</h3>
<pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto text-gray-800 mb-4">
// ‚ùå Inefficient loop
for (let i = 0; i < items.length; i++) {
  document.getElementById("output").innerText += items[i];
}

// ‚úÖ Optimized loop
let result = "";
for (let i = 0; i < items.length; i++) {
  result += items[i];
}
document.getElementById("output").innerText = result;
</pre>

  <!-- Script -->
  <script>
    document.getElementById("runBtn").addEventListener("click", () => {
      const arr = Array.from({ length: 10000 }, (_, i) => i);
      let sumBad = 0;
      let sumGood = 0;

      console.time("Bad Loop");
      for (let i = 0; i < arr.length; i++) {
        sumBad += arr[i];
      }
      console.timeEnd("Bad Loop");

      console.time("Optimized Loop");
      const l = arr.length;
      for (let i = 0; i < l; i++) {
        sumGood += arr[i];
      }
      console.timeEnd("Optimized Loop");

      document.getElementById("output").innerText =
        `Bad Loop Sum: ${sumBad}\nOptimized Loop Sum: ${sumGood}\nCheck console for timing comparison.`;
    });
  </script>

</body>
</html>